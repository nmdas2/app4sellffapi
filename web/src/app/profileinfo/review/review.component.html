<div class="wrapper">
    <aside class="main-sidebar">
        <section class="sidebar">
            <ul class="sidebar-menu" data-widget="tree">
                <li class=""><a style="cursor: pointer;" routerLink="/profileinfo/about"><i class="fa fa-user"></i> <span>About</span><span class="pull-right-container"></span></a></li>
                <li class=""><a style="cursor: pointer;" routerLink="/profileinfo/post"><i class="fa fa-sticky-note-o"></i> <span>Posts</span><span class="pull-right-container"></span></a></li>
                <li class=""><a style="cursor: pointer;" routerLink="/profileinfo/message"><i class="fa fa-envelope-o"></i> <span>Message</span><span class="pull-right-container"></span></a></li>
                <li class=""><a style="cursor: pointer;" routerLink="/profileinfo/promote"><i class="fa fa-bullhorn"></i> <span>Promote</span><span class="pull-right-container"></span></a> </li>
                <li class="active treeview menu-open"><a style="cursor: pointer;" routerLink="/profileinfo/review"><i class="fa fa-star"></i> <span>Review</span><span class="pull-right-container"></span></a> </li>
                <li class=""><a style="cursor: pointer;" routerLink="/profileinfo/invest"><i class="fa fa-money"></i> <span>Invest</span><span class="pull-right-container"></span></a> </li>
                <li class=""><a style="cursor: pointer;" routerLink="/profileinfo/consult"><i class="fa fa-handshake-o"></i> <span>Consult</span><span class="pull-right-container"></span></a> </li>
                <li class=""><a style="cursor: pointer;" routerLink="/profileinfo/refer"><i class="fa fa fa-user-plus"></i> <span>Refer</span><span class="pull-right-container"></span></a> </li>
            </ul>
        </section>
    </aside>
    <div class="content-wrapper">
        <section class="content">
            <!-- Info boxes -->
            <div class="row">
                <!-- /.col -->
                <div class="col-md-2  col-xs-12 views">
                    <div class="info-box">
                        <span class="info-box-icon bg-red"><i class="fa fa-street-view"></i></span>

                        <div class="info-box-content">
                            <span class="info-box-text">Views</span>
                            <span class="info-box-number">89</span>
                        </div>
                        <!-- /.info-box-content -->
                    </div>
                    <!-- /.info-box -->
                </div>
                <!-- /.col -->
                <!-- fix for small devices only -->
                <div class="col-md-2 col-xs-12 views">
                    <div class="info-box">
                        <span class="info-box-icon bg-green"><i class="fa fa-sticky-note-o" aria-hidden="true"></i>
        </span>

                        <div class="info-box-content">
                            <span class="info-box-text">Posts</span>
                            <span class="info-box-number">42</span>
                        </div>
                        <!-- /.info-box-content -->
                    </div>
                    <!-- /.info-box -->
                </div>
                <!-- /.col -->
                <div class="col-md-2  col-xs-12 views">
                    <div class="info-box">
                        <span class="info-box-icon bg-aqua"><i class="fa fa-star"></i></span>

                        <div class="info-box-content">
                            <span class="info-box-text">Reviews</span>
                            <span class="info-box-number">16</span>
                        </div>
                        <!-- /.info-box-content -->
                    </div>
                    <!-- /.info-box -->
                </div>
                <div class="col-md-2 col-xs-12 views">
                    <div class="info-box">
                        <span class="info-box-icon bg-yellow"><i class="fa fa-money"></i></span>

                        <div class="info-box-content">
                            <span class="info-box-text">Investors</span>
                            <span class="info-box-number">22</span>
                        </div>
                        <!-- /.info-box-content -->
                    </div>
                    <!-- /.info-box -->
                </div>
                <div class="col-md-2  col-xs-12 views">
                    <div class="info-box">
                        <span class="info-box-icon bg-aqua"><i class="icon icon-film"></i></span>

                        <div class="info-box-content">
                            <span class="info-box-text">Investments</span>
                            <span class="info-box-number">15</span>
                        </div>
                        <!-- /.info-box-content -->
                    </div>
                    <!-- /.info-box -->
                </div>
                <!-- /.col -->
            </div>
            <!-- /.row -->
            <div class="text-center pull-right">
                <a href="#"><i id="social-gp" style="padding-right: 4px;" class="fa fa-globe fa-2x social"></i></a>
                <a href="#"><i id="social-tw" style="padding-right: 4px;" class="fa fa-twitter-square fa-2x social"></i></a>
                <a href="#"><i id="social-em" style="padding-right: 4px;" class="fa fa-bell fa-2x social"></i></a>
                <a href="#"><i id="social-fb" style="padding-right: 4px;" class="fa fa-facebook-square fa-2x social"></i></a>
                <a href="#"><i id="social-tw" style="padding-right: 4px;" class="fa fa-twitter-square fa-2x social"></i></a>
                <a href="#"><i id="social-gp" style="padding-right: 4px;" class="fa fa-google-plus-square fa-2x social"></i></a>
                <a href="#"><i id="social-em" style="padding-right: 4px;" class="fa fa-envelope-square fa-2x social"></i></a>
            </div>
            <div class="row">
                <div class="col-md-6"></div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="box message-box" *ngIf="currentRating">
                        <div class="row" style="font-weight: bold;">
                            {{totalRatings}} Customer Reviews
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <div class="mb-2">
                                    5 Star
                                    <progressbar max="{{totalRatings}}" [value]=currentRating.Starts5 type="warning" [striped]="true">{{currentRating.Starts5}}</progressbar>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <div class="mb-2">
                                    4 Star
                                    <progressbar max="{{totalRatings}}" [value]=currentRating.Starts4 type="warning" [striped]="true">{{currentRating.Starts4}}</progressbar>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <div class="mb-2">
                                    3 Star
                                    <progressbar max="{{totalRatings}}" [value]=currentRating.Starts3 type="warning" [striped]="true">{{currentRating.Starts3}}</progressbar>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <div class="mb-2">
                                    2 Star
                                    <progressbar max="{{totalRatings}}" [value]=currentRating.Starts2 type="warning" [striped]="true">{{currentRating.Starts2}}</progressbar>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <div class="mb-2">
                                    1 Star
                                    <progressbar max="{{totalRatings}}" [value]=currentRating.Starts1 type="warning" [striped]="true">{{currentRating.Starts1}}</progressbar>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <label class="aria-label padding-right">Performance</label>
                            <rating [ngModel]=currentRating.Performance [max]="max" [readonly]="true"></rating>
                        </div>
                        <div class="row">
                            <label class="aria-label padding-right">Communication</label>
                            <rating [ngModel]=currentRating.Communication [max]="max" [readonly]="true"></rating>
                        </div>
                        <div class="row">
                            <label class="aria-label padding-right">QOW</label>
                            <rating [ngModel]=currentRating.QOW [max]="max" [readonly]="true"></rating>
                        </div>
                        <button *ngIf="canReview" type="button" class="btn btn-primary" (click)="openModal(template)">Write a Member Review</button>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="box message-box">
                        <div class="table table-responsive ">
                            <table id="datatable" class="table table-responsive-sm table-hover table-outline mb-0" cellspacing="0" width="100%">
                                <tbody>
                                    <tr *ngFor="let review of userReviews">
                                        <td>
                                            <table style="width: 100%;">
                                                <tr>
                                                    <td><img src="{{review.ProfilePicPath}}" width="85%" class="reviewsmallpic"></td>
                                                    <td><a style="cursor: pointer;" (click)=openotherprofile(review)>{{review.DisplayName}}</a></td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <rating [ngModel]=review.Rating [max]="max" [readonly]="true"></rating>
                                                    </td>
                                                    <td>{{review.ReviewTitle}}</td>
                                                </tr>
                                                <tr>
                                                    <td>{{review.CreatedOn}}</td>
                                                </tr>
                                                <tr>
                                                    <td colspan="2">{{review.ReviewContent}}</td>
                                                </tr>
                                                <tr>
                                                    <td><button class="btn btn-primary btn-xs" (click)="sayhelpful()">Helpful</button></td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <ng-template #template>
                    <div class="modal-header">
                        <h4 class="modal-title pull-left">Review</h4>
                        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                                <span aria-hidden="true">&times;</span>
                                </button>
                    </div>
                    <div class="modal-body">
                        <label class="aria-label padding-right">Performance</label>
                        <rating [(ngModel)]="rate" [max]="max" [readonly]="isReadonly" (onHover)="hoveringOver($event)" (onLeave)="resetStar()" [titles]="['one','two','three']"></rating>
                        <!-- <span class="label"
                                    [ngClass]="{'label-warning': percent<30, 'label-info': percent>=30 && percent<70, 'label-success': percent>=70}"
                                    [ngStyle]="{display: (overStar && !isReadonly) ? 'inline' : 'none'}">{{percent}}%</span>
                                <div class="card">
                                    <pre class="card-block card-header" style="margin:15px 0;">Rate: <b>{{rate}}</b>;  Readonly is: <i>{{isReadonly}}</i>;  Hovering over: <b>{{overStar || "none"}}</b></pre>
                                </div> -->
                        <br>
                        <label class="aria-label padding-right">Communication</label>
                        <rating [(ngModel)]="communicationRate" [max]="max" [readonly]="isReadonly" (onHover)="hoveringOver($event)" (onLeave)="resetStar()" [titles]="['one','two','three']"></rating>
                        <br>
                        <label class="aria-label padding-right">QOW</label>
                        <rating [(ngModel)]="QOWRate" [max]="max" [readonly]="isReadonly" (onHover)="hoveringOver($event)" (onLeave)="resetStar()" [titles]="['one','two','three']"></rating>
                        <!-- <button type="button" class="btn btn-sm btn-danger" (click)="rate = 0"
                                        [disabled]="isReadonly">Clear
                                </button>
                                <button type="button" class="btn btn-sm btn-primary"
                                        (click)="isReadonly = ! isReadonly">Toggle Readonly
                                </button> -->
                    </div>
                    <div class="modal-header">
                        <h4 class="modal-title pull-left">Create Post</h4>
                        <button type="button" class="close pull-right" aria-label="Close" (click)="resetPostTextForm()">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                    </div>
                    <div class="modal-body">
                        <form [formGroup]="reviewUserForm" (ngSubmit)="onSubmit()">
                            <div class="form-row">
                                <div class="form-group col-5">
                                    <input type="text" formControlName="reviewTitle" placeholder="Review Title" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.reviewTitle.errors }" />
                                    <div *ngIf="submitted && f.reviewTitle.errors" class="invalid-feedback">
                                        <div *ngIf="f.reviewTitle.errors.required">Review Title is required</div>
                                    </div>
                                </div>
                                <div class="form-group col-5">
                                    <input type="textarea" formControlName="reviewContent" placeholder="Review Description" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.reviewContent.errors }" />
                                    <div *ngIf="submitted && f.reviewContent.errors" class="invalid-feedback">
                                        <div *ngIf="f.reviewContent.errors.required">Review Description is required</div>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center">
                                <button class="btn btn-primary mr-1">Submit Review</button>
                                <button class="btn btn-secondary" type="reset" (click)="onReset()">Cancel</button>
                            </div>
                        </form>
                    </div>
                </ng-template>
            </div>
        </section>
    </div>
    <footer class="main-footer">
        <div class="pull-right ">
            <a href="#">Terms & Conditions</a> | <a href="#">Privacy Policy</a> | <a href="#">Site map</a>
        </div>
        Copyright 2019 All Right Reserved
    </footer>
</div>